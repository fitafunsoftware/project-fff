[gd_scene load_steps=16 format=3 uid="uid://bqiifficqq5tf"]

[ext_resource type="Shader" path="res://shaders/opaque_mesh.gdshader" id="1_h3p7e"]
[ext_resource type="Texture2D" uid="uid://frfu1xd67ik2" path="res://utilities/editor_helpers/art_level/test_ground.png" id="2_h0xpd"]
[ext_resource type="Script" path="res://utilities/entity/sprite_3d/horizontal_sprite_3d.gd" id="3_wv347"]
[ext_resource type="PackedScene" uid="uid://ypwkw5b68kln" path="res://utilities/light/lights.tscn" id="4_1hni5"]
[ext_resource type="PackedScene" uid="uid://ddqvb0a4lifyo" path="res://utilities/camera/camera_follow_body.tscn" id="4_4ra7x"]
[ext_resource type="Script" path="res://utilities/editor_helpers/art_level/art_body.gd" id="6_sism6"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4k634"]
render_priority = 0
shader = ExtResource("1_h3p7e")
shader_parameter/sprite_texture = ExtResource("2_h0xpd")

[sub_resource type="PlaneMesh" id="PlaneMesh_veu3k"]
material = SubResource("ShaderMaterial_4k634")
custom_aabb = AABB(-6.4, 0, -15, 12.8, 4, 30)
size = Vector2(12.8, 30.0025)
subdivide_depth = 1920

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_kvybv"]

[sub_resource type="BoxShape3D" id="BoxShape3D_deuiv"]
size = Vector3(0.2, 0.2, 0.2)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_71d43"]
plane = Plane(1, 0, 0, 0)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_37yy6"]
plane = Plane(-1, 0, 0, 0)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_rados"]
plane = Plane(0, 0, 1, 0)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_jmv7a"]
plane = Plane(0, 0, -1, 0)

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_bufdg"]
plane = Plane(0, -1, 0, 0)

[node name="ArtLevel" type="Node3D"]

[node name="Auxillary" type="Node3D" parent="."]

[node name="Ground" type="StaticBody3D" parent="Auxillary"]
collision_layer = 256
collision_mask = 0

[node name="HorizontalSprite3D" type="MeshInstance3D" parent="Auxillary/Ground"]
cast_shadow = 0
mesh = SubResource("PlaneMesh_veu3k")
script = ExtResource("3_wv347")
texture = ExtResource("2_h0xpd")
subdivisions_per_meter_depth = 64

[node name="CollisionShape3D" type="CollisionShape3D" parent="Auxillary/Ground"]
shape = SubResource("WorldBoundaryShape3D_kvybv")

[node name="CameraFollowBody" parent="Auxillary" node_paths=PackedStringArray("target") instance=ExtResource("4_4ra7x")]
target = NodePath("../Body")
x_drag_margin = 0
y_drag_margin = 0
negative_y_drag_margin = 0
z_drag_margin = 0

[node name="Lights" parent="Auxillary" instance=ExtResource("4_1hni5")]

[node name="Body" type="CharacterBody3D" parent="Auxillary"]
collision_layer = 0
collision_mask = 768
script = ExtResource("6_sism6")
friction = 100.0
acceleration = 100.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Auxillary/Body"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0)
shape = SubResource("BoxShape3D_deuiv")

[node name="Walls" type="StaticBody3D" parent="Auxillary"]
collision_layer = 256
collision_mask = 0

[node name="Left" type="CollisionShape3D" parent="Auxillary/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.4, 0, 0)
shape = SubResource("WorldBoundaryShape3D_71d43")

[node name="Right" type="CollisionShape3D" parent="Auxillary/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.4, 0, 0)
shape = SubResource("WorldBoundaryShape3D_37yy6")

[node name="Back" type="CollisionShape3D" parent="Auxillary/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -12)
shape = SubResource("WorldBoundaryShape3D_rados")

[node name="Front" type="CollisionShape3D" parent="Auxillary/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 11)
shape = SubResource("WorldBoundaryShape3D_jmv7a")

[node name="Top" type="CollisionShape3D" parent="Auxillary/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.6, 0)
shape = SubResource("WorldBoundaryShape3D_bufdg")
